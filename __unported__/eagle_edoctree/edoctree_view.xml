<?xml version="1.0"?>
<!--
  File: edoctree_view.xml
  Module: eagle_base

  Created by cyp@open-net.ch

  Copyright (c) 2013 Open-Net Ltd. All rights reserved.
-->
<openerp>
	<data>

        <!--
            Complements to eDocTree node form
        -->
        <record model="ir.ui.view" id="eagle_edoctree_nodes_form_inh01">
            <field name="name">Eagle eDocTree nodes view inh01</field>
            <field name="model">ons.edoctree.node</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="ons_productivity_edoctree.ons_edoctree_nodes_form"/>
            <field name="priority" eval="17"/>
            <field name="arch" type="xml">
                <group name="infos" position="inside">
                    <label for="contract_id" attrs="{'invisible':[('is_template','!=',False)]}" groups="eagle_base.group_contracts_viewers,eagle_base.group_contracts_editors,eagle_base.group_contracts_managers"/>
                    <div attrs="{'invisible':[('is_template','!=',False)]}" groups="eagle_base.group_contracts_viewers,eagle_base.group_contracts_editors,eagle_base.group_contracts_managers">
                        <field name="contract_id" groups="eagle_base.group_contracts_viewers,eagle_base.group_contracts_editors,eagle_base.group_contracts_managers"/>
                        <button 
                            name="%(eagle_wiz_move_node_to_action)d"
                            string="Move to"
                            type="action"
                            icon="gtk-go-forward"
                            colspan="2"
                            context="{'current_contract_id':contract_id}"
                            groups="eagle_base.group_contracts_viewers,eagle_base.group_contracts_editors,eagle_base.group_contracts_managers"/>
                        <button 
                            name="button_synch_contract_with_edoctree"
                            string="eDoc"
                            type="object"
                            icon="gtk-add"
                            colspan="2"
                            context="{'current_contract_id':contract_id, 'current_meta_id':meta_id}"
                            attrs="{'invisible':[('contract_id','=',False)]}"
                            groups="eagle_base.group_contracts_viewers,eagle_base.group_contracts_editors,eagle_base.group_contracts_managers"/>
                    </div>
                    <field name="meta_id" attrs="{'invisible':[('is_template','!=',False)]}" groups="eagle_base.group_contracts_viewers,eagle_base.group_contracts_editors,eagle_base.group_contracts_managers"/>
                </group>
            </field>
        </record>

    </data>
</openerp>
