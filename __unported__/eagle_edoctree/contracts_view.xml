<?xml version="1.0"?>
<!--
  File: contracts_view.xml
  Module: eagle_edoctree

  Created by cyp@open-net.ch

  Copyright (c) 2013 Open-Net Ltd. All rights reserved.
-->
<openerp>
	<data>

        <!--
			CONTRACTS 
        -->
		<record model="ir.ui.view" id="eagle_view_contract_edoctree_form">
			<field name="name">Eagle Contract eDocTree View</field>
			<field name="model">eagle.contract</field>
            <field name="inherit_id" ref="eagle_base.eagle_view_contract_form"/>
            <field name="priority" eval="19"/>
			<field name="arch" type="xml">
				<group name="top" position="inside">
                    <field name="tab_profile_edoctree_c" invisible="1"/>
                </group>
				<page string="Debug" position="before">
					<page string="eDocTree" attrs="{'invisible':[('tab_profile_edoctree_c','=',False)]}">
						<field name="edoctree_children" nolabel="1" widget="one2many" mode="tree"/>
					</page>
                </page>
                <xpath expr="//group[@name='various']" position="inside">
                    <label for="edoctree_root_id"/>
                    <div>
                        <field name="edoctree_root_id" colspan="2"/>
                        <button 
                            name="button_synch_edoctree"
                            string="eDoc"
                            type="object"
                            icon="gtk-add"
                            colspan="2"
                            context="{'current_contract_id':id, 'current_meta_id':meta_id, 'current_contract_name':name}"/>
                    </div>
                </xpath>
			</field>
		</record>

	</data>
</openerp>
